process {
    executor='local'
    errorStrategy = { task.exitStatus in 137..140 ? 'retry' : 'terminate' }
    maxRetries = 4
    # standard GitHub-hosted runners for public repositories 16g
    memory = { 
        def attemptMemory = 1.GB * Math.pow(2, task.attempt)
        def maxMemory = 16.GB
        return [attemptMemory, maxMemory].min()
    }
    
}

singularity {
    enabled = true
}
